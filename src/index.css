@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== CSS VARIABLES ===== */
:root {
  /* Surface colors - Clean Slate palette */
  --surface-0: #0f172a;
  --surface-50: #1e293b;
  --surface-100: #334155;
  --surface-200: #475569;
  
  /* Card colors - solid backgrounds */
  --card-bg: #1e293b;
  --card-border: #334155;
  --panel-bg: #1e293b;
  
  /* Chart colors */
  --chart-blue: #3b82f6;
  --chart-green: #10b981;
  --chart-yellow: #f59e0b;
  --chart-red: #ef4444;
  --chart-purple: #8b5cf6;
  --chart-pink: #ec4899;
  --chart-cyan: #06b6d4;
  --chart-orange: #f97316;
  
  /* Font families - Inter for everything, mono only for tabular data */
  --font-sans: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', 'SF Mono', Consolas, monospace;
  
  /* Typography */
  font-family: var(--font-sans);
  line-height: 1.5;
  color-scheme: dark;
  color: rgba(255, 255, 255, 0.9);
  background-color: var(--surface-0);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ===== BASE STYLES ===== */
@layer base {
  body {
    margin: 0;
    min-height: 100vh;
    background: radial-gradient(ellipse at top, #1e293b 0%, #0f172a 100%);
  }

  #root {
    min-height: 100vh;
    position: relative;
  }

  /* Typography hierarchy */
  h1 { @apply text-2xl sm:text-3xl font-bold text-white; }
  h2 { @apply text-xl sm:text-2xl font-bold text-white; }
  h3 { @apply text-lg font-semibold text-white; }
  h4 { @apply text-base font-semibold text-white; }
  h5 { @apply text-sm font-medium text-white; }
  
  /* Form elements */
  input, textarea, select {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500/50 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900;
  }
}

/* ===== CUSTOM SCROLLBAR ===== */
.scrollbar-thin {
  scrollbar-width: thin;
  scrollbar-color: rgb(71 85 105 / 0.5) transparent;
}

.scrollbar-thin::-webkit-scrollbar {
  height: 6px;
  width: 6px;
}

.scrollbar-thin::-webkit-scrollbar-track {
  background: transparent;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
  background-color: rgb(71 85 105 / 0.5);
  border-radius: 3px;
}

.scrollbar-thin::-webkit-scrollbar-thumb:hover {
  background-color: rgb(100 116 139 / 0.6);
}

/* ===== DATA TYPOGRAPHY ===== */
.font-mono {
  font-family: var(--font-mono);
}

/* Stat values use system font with tabular numbers */
.stat-value,
.data-value,
.metric-value {
  font-family: var(--font-sans);
  font-weight: 700;
  letter-spacing: -0.02em;
  font-feature-settings: "tnum" 1;
}

/* Only chart axis labels use mono */
.recharts-cartesian-axis-tick-value {
  font-family: var(--font-mono);
  font-size: 11px;
  fill: rgba(148, 163, 184, 0.8);
}

.recharts-legend-item-text {
  font-size: 12px;
  color: #94a3b8 !important;
}

/* ===== COMPONENT LAYER ===== */
@layer components {
  /* ===== BUTTONS ===== */
  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-xl font-semibold text-sm 
           transition-all duration-200 active:scale-[0.98] 
           disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100;
  }
  
  .btn-sm { @apply px-3 py-2 text-xs; }
  .btn-md { @apply px-4 py-2.5 text-sm; }
  .btn-lg { @apply px-6 py-3 text-base; }
  
  .btn-primary {
    @apply btn px-4 py-2.5 bg-blue-600 text-white 
           hover:bg-blue-500 active:bg-blue-700;
  }
  
  .btn-secondary {
    @apply btn px-4 py-2.5 bg-slate-700 text-white border border-slate-600 
           hover:bg-slate-600 hover:border-slate-500;
  }
  
  .btn-ghost {
    @apply btn px-3 py-2 text-slate-300 hover:bg-slate-800 hover:text-white;
  }
  
  .btn-danger {
    @apply btn px-4 py-2.5 bg-red-600 text-white 
           hover:bg-red-500 active:bg-red-700;
  }
  
  .btn-success {
    @apply btn px-4 py-2.5 bg-emerald-600 text-white 
           hover:bg-emerald-500 active:bg-emerald-700;
  }
  
  .btn-outline {
    @apply btn px-4 py-2.5 bg-transparent text-blue-400 border border-blue-500/50 
           hover:bg-blue-500/10 hover:border-blue-400;
  }

  /* ===== CARDS - Clean solid backgrounds ===== */
  .glass-card {
    @apply rounded-2xl border p-5;
    background: var(--card-bg);
    border-color: var(--card-border);
  }

  .glass-panel {
    @apply rounded-xl border p-4;
    background: var(--panel-bg);
    border-color: var(--card-border);
  }

  /* ===== STAT CARDS WITH COLORED LEFT BORDERS ===== */
  .stat-card {
    @apply relative rounded-2xl p-5 border overflow-hidden 
           transition-transform duration-200 hover:-translate-y-1;
    background: var(--card-bg);
    border-color: var(--card-border);
  }

  /* Yellow variant */
  .stat-card-yellow, .stat-yellow {
    border-left: 4px solid #fbbf24;
  }

  /* Orange variant */
  .stat-card-orange, .stat-orange {
    border-left: 4px solid #f97316;
  }

  /* Green/Emerald variant */
  .stat-card-green, .stat-green {
    border-left: 4px solid #10b981;
  }

  /* Purple variant */
  .stat-card-purple, .stat-purple {
    border-left: 4px solid #a855f7;
  }

  /* Teal variant */
  .stat-card-teal, .stat-teal {
    border-left: 4px solid #14b8a6;
  }

  /* Blue variant */
  .stat-card-blue, .stat-blue {
    border-left: 4px solid #3b82f6;
  }

  /* Red variant */
  .stat-card-red, .stat-red {
    border-left: 4px solid #ef4444;
  }

  /* Pink variant */
  .stat-card-pink, .stat-pink {
    border-left: 4px solid #ec4899;
  }

  /* Cyan variant */
  .stat-card-cyan, .stat-cyan {
    border-left: 4px solid #06b6d4;
  }

  /* Stat card inner elements */
  .stat-icon {
    @apply w-10 h-10 rounded-xl flex items-center justify-center bg-slate-700/50;
  }
  
  .stat-label {
    @apply text-[10px] uppercase tracking-wider font-semibold mb-1 text-slate-400;
  }
  
  .stat-value {
    @apply text-2xl sm:text-3xl font-bold text-white;
    font-feature-settings: "tnum" 1;
  }

  /* ===== CHIP/BADGE ===== */
  .chip {
    @apply inline-flex items-center gap-1.5 rounded-full px-2.5 py-1 text-xs font-medium;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }
  
  .chip-primary {
    @apply bg-blue-500/20 text-blue-300 border-blue-500/30;
  }
  
  .chip-success {
    @apply bg-emerald-500/20 text-emerald-300 border-emerald-500/30;
  }
  
  .chip-warning {
    @apply bg-amber-500/20 text-amber-300 border-amber-500/30;
  }
  
  .chip-danger {
    @apply bg-red-500/20 text-red-300 border-red-500/30;
  }

  /* ===== LAYOUT ===== */
  .app-shell {
    @apply max-w-6xl mx-auto px-4 sm:px-6;
  }

  /* ===== TAB NAVIGATION ===== */
  .nav-tab {
    @apply flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium 
           transition-all duration-200 text-slate-400 hover:text-white hover:bg-slate-800;
  }
  
  .nav-tab-active {
    @apply bg-slate-800 text-white;
  }
  
  /* Tab Pills - for inline tab buttons */
  .tab-pill {
    @apply flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium 
           transition-all duration-200 text-slate-400 hover:text-white hover:bg-slate-800
           flex-1 justify-center relative;
  }
  
  .tab-pill-active {
    @apply bg-slate-700 text-white border border-slate-600;
  }

  /* ===== SECTION HEADER ===== */
  .section-header {
    @apply flex items-center gap-2 mb-4;
  }
  
  .section-icon {
    @apply w-5 h-5 text-blue-400;
  }
  
  .section-title {
    @apply text-base font-semibold text-white;
  }

  /* ===== FORM ELEMENTS ===== */
  .input {
    @apply w-full px-4 py-2.5 bg-slate-800 border border-slate-600 rounded-xl 
           text-sm text-white placeholder-slate-400 transition-all duration-200
           focus:border-blue-500/50 focus:bg-slate-800
           min-h-[44px];
  }
  
  .textarea {
    @apply input resize-none;
  }
  
  .select {
    @apply px-4 py-2.5 bg-slate-800 border border-slate-600 rounded-xl 
           text-sm text-white cursor-pointer transition-all duration-200
           focus:border-blue-500/50
           min-h-[44px];
  }

  /* ===== WIDGET CARDS ===== */
  .widget-card { 
    @apply glass-card; 
  }

  /* ===== LEGACY COMPATIBILITY ===== */
  .Card { @apply glass-card; }
  .CardBody, .CardHeader { @apply block; }
  .panel-body, .panel-header { @apply p-4; }
  .icon-tile { @apply stat-icon; }
  .icon-tile-sm { @apply w-8 h-8; }
  .metric-label { @apply stat-label; }
  .soft-muted { @apply text-slate-400; }
  .micro-title { @apply text-[10px] uppercase tracking-wider text-slate-500 font-medium; }
  .link-muted { @apply text-slate-400 hover:text-white transition-colors; }
  .tile { @apply glass-panel; }
  .tile-compact { @apply glass-panel p-3; }
  
  /* Legacy widget accents */
  .widget-accent-pink, .widget-tint-pink { @apply border-l-4 border-l-pink-500; }
  .widget-accent-blue, .widget-tint-blue { @apply border-l-4 border-l-blue-500; }
  .widget-accent-amber, .widget-tint-amber { @apply border-l-4 border-l-amber-500; }
  .widget-accent-emerald { @apply border-l-4 border-l-emerald-500; }
  .widget-teal { @apply stat-card-teal; }
  .widget-orange { @apply stat-card-orange; }
  .widget-chip { 
    @apply chip chip-primary; 
  }
  
  /* Card stack layout helper */
  .card-stack {
    @apply flex flex-col gap-2;
  }
  
  /* Card grid layouts */
  .card-grid-2 {
    @apply grid grid-cols-1 sm:grid-cols-2 gap-4;
  }
  
  .card-grid-3 {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4;
  }
  
  .card-grid-4 {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4;
  }
  
  .card-grid-tight {
    @apply grid gap-4;
  }
  
  /* Tile accent variants */
  .tile-accent-blue {
    @apply border-l-4 border-l-blue-500;
  }
  
  .tile-accent-emerald {
    @apply border-l-4 border-l-emerald-500;
  }
  
  .tile-accent-amber {
    @apply border-l-4 border-l-amber-500;
  }
}

/* ===== ANIMATIONS ===== */
@layer utilities {
  .animate-fade-in {
    animation: fadeIn 0.4s ease-out;
  }
  
  .animate-slide-up {
    animation: slideUp 0.4s ease-out;
  }
  
  .animate-pop {
    animation: pop 0.3s ease-out;
  }
  
  .animate-fade-up {
    animation: fadeUp 0.5s ease-out;
  }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes pop {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ===== SCROLLBAR ===== */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(15, 23, 42, 0.5);
}

::-webkit-scrollbar-thumb {
  background: rgba(100, 116, 139, 0.4);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(100, 116, 139, 0.6);
}

/* ===== RECHARTS CUSTOMIZATIONS - Clean tooltips ===== */
.recharts-tooltip-wrapper {
  z-index: 100;
}

.recharts-default-tooltip {
  background: #1e293b !important;
  border: 1px solid #475569 !important;
  border-radius: 8px !important;
  padding: 8px 12px !important;
}
